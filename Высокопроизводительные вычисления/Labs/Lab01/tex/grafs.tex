\documentclass[a4paper,oneside,14pt]{extreport}

\include{preamble}

\begin{document}

%ЗАДАНИЕ 2 TIMES
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Кол-во потоков},
			ylabel={Время выполнения, сек.},
			xtick={1,2,4,8,16},
			legend pos=north east,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(1, 0.514514)(2, 0.280113)(4, 0.195726)(8, 0.136087)(16, 0.130681)
			};
			\addlegendentry{N = 500}
			
			
			\addplot[
			color=green,
			mark=square,
			]
			coordinates {
				(1, 3.875982)(2, 1.969845)(4, 1.004372)(8, 0.579059)(16, 0.411010)
			};
			\addlegendentry{N = 1000}
			
			\addplot[
			color=red,
			mark=square,
			]
			coordinates {
				(1, 12.895605)(2, 6.489682)(4, 3.236678)(8, 1.699508)(16, 1.007614)
			};
			\addlegendentry{N = 1500}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Задание 2 - Зависимость времени выполнения умножения матриц от количества процессов}
\end{figure}

%ЗАДАНИЕ 2 GFLOPS
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Кол-во потоков},
			ylabel={GFLOPS},
			xtick={1,2,4,8,16},
			legend pos=north west,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(1, 0.485895)(2, 0.892496)(4, 1.277297)(8, 1.837065)(16, 1.913059)
			};
			\addlegendentry{N = 500}
			
			
			\addplot[
			color=green,
			mark=square,
			]
			coordinates {
				(1, 0.515998)(2, 1.015308)(4, 1.991293)(8, 3.453879)(16, 4.866065)
			};
			\addlegendentry{N = 1000}
			
			\addplot[
			color=red,
			mark=square,
			]
			coordinates {
				(1, 0.523434)(2, 1.040113)(4, 2.085471)(8, 3.971739)(16, 6.698993)
			};
			\addlegendentry{N = 1500}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Задание 2 - Зависимость GFLOPS умножения матриц от количества процессов}
\end{figure}

%ЗАДАНИЕ 3 TIMES BLAS
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Размер матриц},
			ylabel={Время выполнения, сек.},
			xtick={500,1000,1500},
			legend pos=north west,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(500, 0.077064)(1000, 0.350995)(1500, 1.019432)
			};
			\addlegendentry{Моя реализация}
			
			
			\addplot[
			color=green,
			mark=square,
			]
			coordinates {
				(500, 0.000473)(1000, 0.003076)(1500, 0.022549)
			};
			\addlegendentry{Библиотека BLAS}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Задание 3 - Зависимость времени выполнения умножения матриц от количества процессов}
\end{figure}

%ЗАДАНИЕ 4 TIMES
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Кол-во потоков},
			ylabel={Время выполнения, сек.},
			xtick={1,2,4,8,16},
			legend pos=north east,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(1, 0.515720)(2, 0.260511)(4, 0.137451)(8, 0.098517)(16, 0.081396)
			};
			\addlegendentry{N = 500}
			
			
			\addplot[
			color=green,
			mark=square,
			]
			coordinates {
				(1, 3.817435)(2, 1.951693)(4, 1.075434)(8, 0.609881)(16, 0.349749)
			};
			\addlegendentry{N = 1000}
			
			\addplot[
			color=red,
			mark=square,
			]
			coordinates {
				(1, 13.048002)(2, 6.619079)(4, 3.499900)(8, 1.764327)(16, 0.937236)
			};
			\addlegendentry{N = 1500}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Задание 4 - Зависимость времени выполнения умножения матриц от количества процессов}
\end{figure}

%ЗАДАНИЕ 4 GFLOPS
\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[
			xlabel={Кол-во потоков},
			ylabel={GFLOPS},
			xtick={1,2,4,8,16},
			legend pos=north west,
			ymajorgrids=true,
			grid style=dashed,
			width = 400
			]
			
			\addplot[
			color=blue,
			mark=square,
			]
			coordinates {
				(1, 0.484759)(2, 0.959651)(4, 1.818835)(8, 2.537634)(16, 3.071389)
			};
			\addlegendentry{N = 500}
			
			
			\addplot[
			color=green,
			mark=square,
			]
			coordinates {
				(1, 0.523912)(2, 1.024751)(4, 1.859714)(8, 3.279328)(16, 5.718382)
			};
			\addlegendentry{N = 1000}
			
			\addplot[
			color=red,
			mark=square,
			]
			coordinates {
				(1, 0.517321)(2, 1.019779)(4, 1.928626)(8, 3.825820)(16, 7.202026)
			};
			\addlegendentry{N = 1500}
			
		\end{axis}
	\end{tikzpicture}
	\caption{Задание 4 - Зависимость GFLOPS умножения матриц от количества процессов}
\end{figure}

\end{document}